{# content \Netgen\IbexaSiteApi\API\Values\Content #}
{# location \Netgen\IbexaSiteApi\API\Values\Location #}

{% import "@ibexadesign/parts/macros.html.twig" as macros %}

{% set grid_class = "features-grid-col-" ~  block.parameter('number_of_columns').value|default(3) %}

{% block content %}
    <article class="view-component view-component-features features-style-6">
        <header class="article-header">
            <h2 class="title">{{ ng_render_field(content.fields.title) }}</h2>

            {% if not content.fields.link_label.empty %}
                <div class="info">
                    <a href="#" class="btn btn-secondary">{{ content.fields.link_label.value.text }}</a>
                </div>
            {% endif %}
        </header>

        {% set items = ng_component_items(content, "item") %}
        {% if items|length %}
            <div class="features-grid {{ grid_class }}">
                {% for item in items %}
                    {% if not item.title.empty or not item.description.empty %}
                        <div class="features-grid-item">
                            {% if item.image is defined and not item.image.empty %}
                                <div class="item-image">
                                    {{ ng_render_field(item.image) }}
                                </div>
                            {% endif %}
                            <div class="item-content">
                                {% if item.title is defined and not item.title.empty %}
                                    <h3 class="item-title">{{ ng_render_field(item.title) }}</h3>
                                {% endif %}
                                {% if item.description is defined and not item.description.empty %}
                                    <div class="item-description">
                                        {{ ng_render_field(item.description) }}
                                    </div>
                                    <div class="item-actions">
                                        {% if item.item_link_label is defined and not item.item_link_label.empty %}
                                            <div class="info">
                                                <a href="#" class="btn btn-link">{{ item.item_link_label.value.text }}</a>
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
    </article>
{% endblock %}
